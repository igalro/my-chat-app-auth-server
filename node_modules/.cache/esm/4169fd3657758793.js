let getReadableError;_577‍.x([["asyncHandler",()=>asyncHandler],["loadErrorHandler",()=>loadErrorHandler]]);_577‍.w("../../helpers/error",[["getReadableError",["getReadableError"],function(v){getReadableError=v}]]);

       const asyncHandler = fn => (req, res, next) => {
    return Promise
        .resolve(fn(req, res, next))
        .catch(next);
};

       function loadErrorHandler(app) {
    app.use((err, req, res, next) => {
        if (typeof err === 'string') {
            err = { msg: err };
        }
        err.statusCode = err.statusCode || 500;
        const message = getReadableError(err);
        res.status(err.statusCode).json({
            message, err
        })
    });
}
